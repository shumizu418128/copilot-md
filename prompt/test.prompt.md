# 実行するコマンド
```bash
python -m pytest app/tests/ -v
```

# タスクの流れ

## ステップ1: テストの実行と分析
上記のコマンドを実行し、テスト結果を分析してください。

**重要:** すべてのテストがパスした場合は、「すべてのテストが正常に完了しました」と報告して作業を終了してください。以降のステップは不要です。

## ステップ2: 問題の分類と報告
テストが失敗した場合、以下の3つのカテゴリに分類して報告してください:

### カテゴリA: テストコードに原因がある問題
- 問題の内容を箇条書きで列挙
- 各問題について、該当するテストファイル名と行番号を明記

### カテゴリB: アプリケーション本体(仕様)に原因がある問題
- 問題の内容を箇条書きで列挙
- 各問題について、該当するソースコードのファイル名と行番号を明記

### カテゴリC: 原因が不明確な問題
- 問題の内容を箇条書きで列挙
- 各問題について、関連する可能性のあるファイル名と行番号を明記

## ステップ3: ユーザーへの選択肢提示
問題を報告した後、必ず以下の選択肢を提示し、ユーザーに選択を求めてください:

```
次のアクションを選択してください:
1. カテゴリA(テストコード)の問題を修正する
2. カテゴリB(仕様)の問題を詳しく調査する
3. カテゴリC(原因不明)の問題を詳しく調査する
4. すべての問題を修正する

どの番号を実行しますか?
```

## ステップ4: 修正の実行(ユーザーが選択した場合のみ)

### 修正の基本方針
- **優先順位:** テストコード側の修正を最優先してください
- **仕様の修正:** アプリケーション本体を修正する必要がある場合は、**必ず**修正案をユーザーに提示し、承認を得てから実行してください

### 修正手順
1. テストコードの修正の場合:
   - 修正内容を説明してから実行
   - 修正後、再度テストを実行して確認

2. 仕様の修正の場合:
   - 修正案を詳細に提示(変更するファイル、変更内容、影響範囲)
   - ユーザーの承認を待つ
   - 承認後に修正を実行
   - 修正後、再度テストを実行して確認

# 注意事項
- 各ステップは順番に実行してください
- ユーザーからの指示なしに仕様側のコードを修正しないでください
- 問題がない場合は早期に終了してください
